# 캠페인 최적화 워크플로우 (Type B)

## 개요
기존 운영 중인 캠페인의 성과를 분석하여 문제를 진단하고, 구체적인 최적화 방안을 도출하여 실행하는 워크플로우.
ANALYTICS_TEAM 주도의 성과 데이터 수집 → 문제 진단 → 해당 서브팀 원인 분석 → 최적화 제안 → CHANNEL_TEAM 실행 → 효과 확인까지 커버한다.

---

## 트리거

| 조건 | 예시 | 판단 기준 |
|------|------|----------|
| 성과 미달 | "성과가 안 나와", "ROAS가 떨어졌어" | 목표 KPI 미달 |
| 정기 최적화 | "이번 주 캠페인 최적화 해줘" | 주간/격주 정기 최적화 |
| 비용 비효율 | "CPA가 너무 높아", "예산이 빠르게 소진돼" | 비용 효율 문제 |
| 성과 이상 감지 | DATA_MONITOR 자동 알림 | 성과 급변 감지 |
| 채널 추가/변경 | "메타 추가해볼까?" | 채널 포트폴리오 조정 |

---

## 프로세스

```
[오너 요청 또는 DATA_MONITOR 이상 감지]
         ↓
[TEAM_LEAD] 접수 + 최적화 범위 결정
  → 전체 캠페인 / 특정 채널 / 특정 키워드 등
         ↓
[Phase 1: 성과 데이터 수집 + 진단] (ANALYTICS_TEAM)
  → DATA_MONITOR: 채널별 성과 데이터 수집
  → INSIGHT_ANALYST: KPI 현황 vs 목표 비교, 이상 지표 식별
  → 산출물: 성과 진단 리포트
         ↓
[Phase 2: 문제 분류] (TEAM_LEAD + INSIGHT_ANALYST)
  → 성과 진단 리포트 기반 문제 식별
  → 문제 유형 분류 (전략/키워드/크리에이티브/입찰/채널)
  → 우선순위 매기기
  → 산출물: 문제 진단서
         ↓
[Phase 3: 원인 분석 + 최적화 제안] (문제 유형별 서브팀/에이전트)
  │
  ├─ 전략 문제 → CAMPAIGN_STRATEGIST
  │   → 셀프 디베이트로 채널 믹스 재평가, 타겟 재설정, 예산 재배분
  │
  ├─ 키워드/오디언스 문제 → KEYWORD_AUDIENCE_TEAM
  │   → SEARCH_RESEARCHER: 저성과 키워드 교체, 네거티브 추가
  │   → AUDIENCE_RESEARCHER: 오디언스 세분화, 리타겟팅 조정
  │   → TREND_ANALYST: 시즌/경쟁 변화 확인
  │
  ├─ 크리에이티브 문제 → CREATIVE_TEAM
  │   → COPYWRITER: 새 카피 제작, A/B 변형 생성
  │   → VISUAL_DIRECTOR: 소재 피로도 분석, 새 크리에이티브 가이드
  │   → CREATIVE_REVIEWER: 법적/정책 재검수
  │
  ├─ 입찰/예산 문제 → BID_OPTIMIZER
  │   → 입찰 전략 변경, 예산 재배분, 페이싱 조정
  │
  └─ 채널/기술 문제 → CHANNEL_TEAM (해당 채널 전문가)
      → NAVER_SPECIALIST / KAKAO_SPECIALIST / META_SPECIALIST / GOOGLE_SPECIALIST
      → 세팅 점검, 트래킹 확인, 정책 변경 대응
  │
  → 산출물: 최적화 제안서 (각 서브팀/에이전트별)
         ↓
[Phase 4: 통합 검수] (TEAM_LEAD)
  → 전체 최적화 안 통합
  → 상충 여부 확인 (서브팀 간 제안 충돌 검토)
  → 우선순위 정리
  → 산출물: 통합 최적화 플랜
         ↓
[Phase 5: 오너 보고 + 승인] (TEAM_LEAD)
  → 문제 진단 요약
  → 최적화 방안 제시
  → 예상 효과 + 리스크
  → 오너 승인 요청
         ↓
[Phase 6: 실행] (CHANNEL_TEAM + BID_OPTIMIZER)
  → 각 채널 전문가가 승인된 최적화 사항 반영
  → BID_OPTIMIZER가 입찰/예산 변경 실행
  → 변경 로그 기록
         ↓
[Phase 7: 효과 확인] (ANALYTICS_TEAM)
  → DATA_MONITOR: 최적화 전후 데이터 모니터링
  → INSIGHT_ANALYST: 최적화 전후 성과 비교, 개선 효과 정량화
  → 산출물: 최적화 효과 리포트
```

---

## 문제 진단 프레임워크

### 성과 지표별 진단 트리

```
[CPA가 높다]
├── CTR이 낮다?
│   ├── 노출은 충분한가? → 입찰가/예산 문제 (BID_OPTIMIZER)
│   ├── 키워드 관련성? → 키워드 문제 (SEARCH_RESEARCHER)
│   └── 소재 매력도? → 크리에이티브 문제 (COPYWRITER + VISUAL_DIRECTOR)
├── CVR이 낮다?
│   ├── 랜딩 페이지 문제? → LP 최적화 (TEAM_LEAD → 오너 제안)
│   ├── 타겟 정확도? → 오디언스 문제 (AUDIENCE_RESEARCHER)
│   └── 가격/오퍼 경쟁력? → 전략 문제 (CAMPAIGN_STRATEGIST)
└── CPC가 높다?
    ├── 경쟁 심화? → 입찰 전략 변경 (BID_OPTIMIZER)
    ├── 키워드 선택? → 롱테일/블루오션 (SEARCH_RESEARCHER + TREND_ANALYST)
    └── 품질점수 낮음? → 관련성 개선 (COPYWRITER + 해당 채널 전문가)

[ROAS가 낮다]
├── CPA는 적정한데 객단가가 낮다?
│   → 고객단가 높은 상품 집중, 업셀 캠페인 (CAMPAIGN_STRATEGIST)
├── 전환은 되는데 매출이 안 잡힌다?
│   → 전환 추적 확인 (해당 채널 전문가 + DATA_MONITOR)
└── 전환 자체가 적다?
    → CPA 진단 트리로 이동

[CTR이 떨어졌다]
├── 소재 교체 후? → 새 소재 문제 (COPYWRITER → 이전 소재 롤백)
├── 점진적 하락? → 소재 피로도 (CREATIVE_TEAM 새 크리에이티브 제작)
├── 특정 시간대만? → 시간대별 경쟁 변화 (BID_OPTIMIZER 입찰 조정)
└── 갑자기 하락? → 정책 변경/시스템 이슈 (해당 채널 전문가 확인)
```

### 문제 우선순위 매트릭스

| 긴급도 \ 영향도 | 높음 | 중간 | 낮음 |
|----------------|------|------|------|
| **긴급** | P1: 즉시 대응 | P2: 당일 대응 | P3: 2~3일 내 |
| **보통** | P2: 당일 대응 | P3: 2~3일 내 | P4: 주간 최적화 |
| **낮음** | P3: 2~3일 내 | P4: 주간 최적화 | P5: 월간 리뷰 시 |

---

## 최적화 유형별 상세

### 1. 키워드/오디언스 최적화 (KEYWORD_AUDIENCE_TEAM)
```
SEARCH_RESEARCHER:
[ ] 저성과 키워드 일시 중지 (CTR 1% 미만, 전환 0)
[ ] 고성과 키워드 입찰가 인상 (CPA 목표 이하, 노출 여유)
[ ] 새 키워드 추가 (검색어 보고서 분석)
[ ] 네거티브 키워드 추가 (비관련 검색어)
[ ] 매치 타입 조정 (확장 → 구문/정확)
[ ] 키워드 그룹 재구성

AUDIENCE_RESEARCHER:
[ ] 오디언스 성과 분석 (연령/성별/지역별)
[ ] 저성과 세그먼트 제외
[ ] 고성과 세그먼트 유사 오디언스 확장
[ ] 리타겟팅 기간/조건 조정
[ ] 신규 타겟 세그먼트 테스트
[ ] 커스텀 오디언스 업데이트

TREND_ANALYST:
[ ] 시즌/트렌드 변화 반영
[ ] 경쟁사 전략 변화 확인
[ ] 블루오션 키워드/오디언스 발굴
```

### 2. 크리에이티브 최적화 (CREATIVE_TEAM)
```
COPYWRITER:
[ ] 소재 성과 분석 (CTR/CVR 기준 상위/하위)
[ ] 저성과 소재 교체 카피 작성
[ ] 고성과 소재 변형 생성 (A/B 테스트용)
[ ] 소재 피로도 체크 (빈도/CTR 추이)
[ ] 시즌/트렌드 반영 카피 업데이트

VISUAL_DIRECTOR:
[ ] 채널별 소재 최적화 (한 소재를 모든 채널에 쓰지 않기)
[ ] 새 크리에이티브 가이드 작성
[ ] thread-team 추가 소재 요청 (필요 시)

CREATIVE_REVIEWER:
[ ] 신규/수정 소재 법적/정책 재검수
[ ] PASS 판정 후에만 채널 세팅 진행
```

### 3. 입찰/예산 최적화 (BID_OPTIMIZER)
```
[ ] 채널 간 예산 재배분 (고ROAS 채널에 집중)
[ ] 시간대별 입찰 조정 (고전환 시간대 입찰 인상)
[ ] 디바이스별 입찰 조정 (모바일/PC 성과 차이)
[ ] 입찰 전략 변경 (수동 → 자동, CPA → ROAS)
[ ] 일예산 조정 (과소진/미소진 대응)
[ ] 예산 페이싱 재설계
```

### 4. 채널 최적화 (CHANNEL_TEAM)
```
각 채널 전문가:
[ ] 캠페인 구조 최적화
[ ] 트래킹 코드 정상 작동 확인
[ ] 채널 정책 변경 대응
[ ] 광고 미승인 이슈 해결
[ ] 채널 특성에 맞는 세팅 조정
```

### 5. 랜딩 페이지 최적화 (권고)
```
[ ] 페이지 로딩 속도 (3초 이내)
[ ] 모바일 최적화 상태
[ ] CTA 버튼 위치/문구
[ ] 광고 메시지와 LP 메시지 일치
[ ] 전환 폼 간소화
[ ] A/B 테스트 제안
```

---

## 최적화 사이클

```
권장 최적화 주기:
├── 일간: DATA_MONITOR — 예산 소진율, 이상 지표 모니터링
├── 주간: INSIGHT_ANALYST — 키워드/소재 성과 분석, BID_OPTIMIZER 입찰 조정
├── 격주: KEYWORD_AUDIENCE_TEAM — 오디언스 성과 분석, BID_OPTIMIZER 예산 재배분
├── 월간: CAMPAIGN_STRATEGIST — 전체 전략 리뷰, KPI 목표 재설정 (셀프 디베이트)
└── 분기: TEAM_LEAD — 채널 포트폴리오 재평가, 대형 전략 변경
```

---

## 산출물 템플릿

### 최적화 제안서 (오너 보고용)
```
# 캠페인 최적화 제안서

## 1. 현재 상태 요약
- 분석 기간: {기간}
- 분석 담당: ANALYTICS_TEAM (DATA_MONITOR + INSIGHT_ANALYST)
- 주요 지표: CPA {원}원 (목표: {원}원), ROAS {배}배 (목표: {배}배)
- 상태: [정상 / 주의 / 위험]

## 2. 문제 진단
| 문제 | 원인 | 담당 서브팀/에이전트 | 영향도 | 우선순위 |
|------|------|-------------------|--------|---------|

## 3. 최적화 방안
| 방안 | 담당 | 상세 | 예상 효과 | 리스크 |
|------|------|------|----------|--------|

## 4. 예상 효과
- CPA: {원}원 → {원}원 (_{%}% 개선)
- ROAS: {배}배 → {배}배 (_{%}% 개선)

## 5. 실행 일정
- 즉시 (CHANNEL_TEAM + BID_OPTIMIZER): {항목}
- 이번 주 (KEYWORD_AUDIENCE_TEAM + CREATIVE_TEAM): {항목}
- 다음 주 (CAMPAIGN_STRATEGIST): {항목}

## 6. 승인 요청
- 예산 변경: {있으면 상세}
- 전략 변경: {있으면 상세}
```

---

## 참고 파일

| 파일 | 용도 |
|------|------|
| `config/kpi_definitions.md` | KPI 목표 및 벤치마크 |
| `workflows/reporting.md` | 성과 리포트 양식 |
| `workflows/ab_testing.md` | A/B 테스트 (최적화 연계) |
